<html manifest="cache.manifest">
<head>
    <title>PS4 Host Menu 6.72</title>
    <style>
        div {
            text-align: center
        }

        hr {
            margin-top: 4px;
            margin-bottom: 4px;
        }

        br {
            margin-top: 4px;
            margin-bottom: 4px;
        }

        button {
            font-size: 14px;
            margin-top: 4px;
            margin-bottom: 4px;
            margin-right: 1px;
            margin-left: 1px;
            height: 23px;
        }

        select {
            font-size: 14px;
            margin-top: 4px;
            margin-bottom: 4px;
            margin-right: 1px;
            margin-left: 1px;
            height: 23px;
        }

        sup {
            font-size: 10px;
            margin-top: 4px;
            margin-bottom: 4px;
            margin-right: 1px;
            margin-left: 1px;
        }

        h1 {
            font-size: 26px;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        h2 {
            font-size: 22px;
            margin-top: 9px;
            margin-bottom: 9px;
        }

        h3 {
            font-size: 18px;
            margin-top: 7px;
            margin-bottom: 7px;
        }

        h4 {
            font-size: 18px;
            margin-top: 20px;
            margin-bottom: 7px;
        }
    </style>
</head>
<body style="background-color:#3462a8;color:white;font-size:20px;text-align:center;">
    <h1 id="Header">PS4 Host Menu 6.72</h1>
    <hr>
    <h2 id="Status">Status</h2>
    <hr>
    <div id="Sections">
        <div id="SectionsExploit">
            <h3 id="SectionsExploitHeader">Exploit</h3>
            <button id="SectionsExploitHEN" onclick="LoadHEN()"> HEN </button>
            <button id="SectionsExploitMira" onclick="LoadMira()"> Mira </button>
            <button id="SectionsExploitMiraUnofficial" onclick="LoadMiraUnofficial()"> Mira (Unofficial) </button>
        </div>
        <div id="SectionsTools">
            <h4 id="SectionsToolsHeader">Tools</h4>
            <button id="SectionsToolsBinLoader" onclick="LoadBinLoader()"> Bin Loader </button>
            <button id="SectionsToolsFTP" onclick="LoadFTP()"> FTP </button>
            <button id="SectionsToolsApp2USB" onclick="LoadApp2USB()"> App2USB </button>
            <button id="SectionsToolsDebug" onclick="LoadDebug()"> Debug </button>
            <button id="SectionsToolsWebRTE" onclick="LoadWebRTE()"> WebRTE </button>
            <button id="SectionsToolsLinux" onclick="LoadLinux()"> Linux </button>
            <button id="SectionsToolsKernelDumper" onclick="LoadKernelDumper()"> Kernel Dumper </button>
            <button id="SectionsToolsToDEX" onclick="LoadToDEX()"> ToDEX </button>
            <button id="SectionsToolsFWSpoofer" onclick="LoadFWSpoofer()"> Firmware Spoofer </button>
        </div>
        <div id="SectionsGameDumper">
            <h3 id="SectionsGameDumperHeader">Game Dumper</h3>
            <button id="SectionsGameDumperGUMDumper" onclick="LoadGUMDumper()"> Game + Update Merged Dumper </button>
            <button id="SectionsGameDumperGUDumper" onclick="LoadGUDumper()"> Game + Update Dumper </button>
            <button id="SectionsGameDumperGDumper" onclick="LoadGDumper()"> Game Dumper </button>
            <button id="SectionsGameDumperUDumper" onclick="LoadUDumper()"> Update Dumper </button>
        </div>
        <div id="SectionsRecovery">
            <h3 id="SectionsRecoveryHeader">Recovery</h3>
            <button id="SectionsRecoveryDBBackup" onclick="LoadDBBackup()"> Database Backup </button>
            <button id="SectionsRecoveryDBRestore" onclick="LoadDBRestore()"> Database Restore </button>
            <br />
            <button id="SectionsRecoveryAvatarBackup" onclick="LoadAvatarBackup()"> Avatar Backup </button>
            <button id="SectionsRecoveryAvatarRestore" onclick="LoadAvatarRestore()"> Avatar Restore </button>
        </div>
        <div id="SectionsSettings">
            <h4 id="SectionsSettingsHeader">Settings</h4>
            <button id="SectionsSettingsUpdatesDisabler" onclick="LoadUpdatesDisabler()"> Updates Disabler </button>
            <button id="SectionsSettingsUpdatesEnabler" onclick="LoadUpdatesEnabler()"> Updates Enabler </button>
            <br />
            <button id="SectionsSettingsHistoryBlocker" onclick="LoadHistoryBlocker()"> History Blocker </button>
            <br />
            <button id="SectionsSettingsFanThreshold" onclick="LoadFanThreshold()"> Set Fan Threshold </button>
            <select id="SectionsSettingsFanTempSelector"></select><sup>&#176;C</sup>
        </div>
        <div id="SectionsCredits" style="position:fixed; left:0; bottom:0px; width:100%; font-size:16px; margin-top: 10px; margin-bottom: 10px;">
            <hr>
            By SpecialFood, based on Leeful's v10
            <hr>
        </div>
    </div>
    <script>
        // Here I'll declare all of the global variables i will use regarding the host

        var LoadedWebkitExploit;
        var LoadedJailbreakCommon;
        var LoadedJailbreak;

        var SectionsLocked;

        var CachePercent;
        var CacheInstalling;
        var CacheInstalled;
        var CacheLoaded;

        var FanTempMax;
        var FanTempMin;
        var FanTempSelectorOptions;
        var FanTempSelectorOption;
        var FanTempSelectorOptionIndex;

        var PayloadName;
        var PayloadPath;
        var PayloadFunction;

        var SuccessText;
        var FailureText;
        var LoadingText;

        var FWA;
        var FWB;

        var FT;

        var c_code_loaded;
        var c_code_return_value;
    </script>
    <script>
        // Everything regarding Sections

        function SectionsDisable(condition) {
            SectionsExploitHEN.disabled = condition;
            SectionsExploitMira.disabled = condition;
            SectionsExploitMiraUnofficial.disabled = condition;
            SectionsToolsBinLoader.disabled = condition;
            SectionsToolsFTP.disabled = condition;
            SectionsToolsApp2USB.disabled = condition;
            SectionsToolsDebug.disabled = condition;
            SectionsToolsWebRTE.disabled = condition;
            SectionsToolsLinux.disabled = condition;
            SectionsToolsKernelDumper.disabled = condition;
            SectionsToolsToDEX.disabled = condition;
            SectionsToolsFWSpoofer.disabled = condition;
            SectionsGameDumperGUMDumper.disabled = condition;
            SectionsGameDumperGUDumper.disabled = condition;
            SectionsGameDumperGDumper.disabled = condition;
            SectionsGameDumperUDumper.disabled = condition;
            SectionsRecoveryDBBackup.disabled = condition;
            SectionsRecoveryDBRestore.disabled = condition;
            SectionsRecoveryAvatarBackup.disabled = condition;
            SectionsRecoveryAvatarRestore.disabled = condition;
            SectionsSettingsUpdatesDisabler.disabled = condition;
            SectionsSettingsUpdatesEnabler.disabled = condition;
            SectionsSettingsHistoryBlocker.disabled = condition;
            SectionsSettingsFanThreshold.disabled = condition;
            SectionsSettingsFanTempSelector.disabled = condition;

            SectionsLocked = condition;
        }

        function SectionsLock() {
            if (SectionsLocked == false)
                SectionsDisable(true);
        }

        function SectionsUnlock() {
            if (SectionsLocked == true)
                if (LoadedWebkitExploit == true)
                    if (LoadedJailbreakCommon == true)
                        if (LoadedJailbreak == true)
                            SectionsDisable(false);
                        else
                            LoadJailbreak();
                    else
                        LoadJailbreakCommon();
                else
                    LoadWebkitExploit();
        }
    </script>
    <script>
        // Everything regarding Cache

        function CacheInstallingEvent(e) {
            if (CacheInstalling == false)
                CacheInstalling = true;

            CachePercent = Math.round(e.loaded / e.total * 100);

            Status.innerHTML = "Installing Cache: " + CachePercent.toString() + "%";
        }

        function CacheInstalledEvent() {
            CacheInstalled = true;

            if (CacheInstalling == true)
                CacheInstalling = false;

            Status.innerHTML = "Cache Installed";

            SectionsUnlock();
        }

        function CacheLoadedEvent() {
            if (CacheInstalling == false && CacheInstalled == false)
                if (window.applicationCache.status == 1) {// takes too long to get there might remove in the future
                    CacheLoaded = true;

                    Status.innerHTML = "Cache Loaded";

                    SectionsUnlock();
                }
                else
                    setTimeout(CacheLoadedEvent, 300);
        }
    </script>
    <script>
        // Everything regarding the FanTempSelector

        function ApplyFanTempSelectorOptions() {
            for (FanTempSelectorOptionIndex = FanTempMin; FanTempSelectorOptionIndex <= FanTempMax; FanTempSelectorOptionIndex++) {
                FanTempSelectorOption = document.createElement("OPTION");
                FanTempSelectorOption.text = FanTempSelectorOptionIndex.toString();
                FanTempSelectorOption.value = FanTempSelectorOptionIndex;

                FanTempSelectorOptions.add(FanTempSelectorOption);
            }
        }
    </script>
    <script>
        // Everything in regards to loading

        function RunLoader(loader, delay) {
            SectionsLock();

            setTimeout(loader, delay);
        }

        function BLLA() { RunLoader(bl_loader, 200); }
        function BLLB() { RunLoader(bl_loader, 500); }
        function JBLA() { RunLoader(jb_loader, 200); }
        function JBLB() { RunLoader(jb_loader, 500); }
        function JCLA() { RunLoader(jc_loader, 200); }
        function JCLB() { RunLoader(jc_loader, 500); }
        function PLLA() { RunLoader(pl_loader, 200); }
        function PLLB() { RunLoader(pl_loader, 500); }
        function WELA() { RunLoader(we_loader, 200); }
        function WELB() { RunLoader(we_loader, 500); }

        function LoadWebkitExploit() {
            WELA();
        }

        function LoadJailbreakCommon() {
            JCLA();
        }

        function LoadJailbreak() {
            JBLA();
        }

        function LoadHEN() {
            PayloadName = "HEN";
            PayloadPath = "payloads/HEN.bin";
            PLLB();
        }

        function LoadMira() {
            PayloadName = "Mira";
            PayloadPath = "payloads/Mira.bin";
            PLLB();
        }

        function LoadMiraUnofficial() {
            PayloadName = "Mira (Unofficial)";
            PayloadPath = "payloads/MiraUnofficial.bin";
            PLLB();
        }

        function LoadBinLoader() {
            //PayloadName = "Bin Loader"; using mira loader
            //PayloadPath = "payloads/BinLoader.bin"; using mira loader
            BLLB();
        }

        function LoadFTP() {
            PayloadName = "FTP";
            PayloadPath = "payloads/FTP.bin";
            PLLA();
        }

        function LoadApp2USB() {
            PayloadName = "App2USB";
            PayloadPath = "payloads/App2USB.bin";
            PLLA();
        }

        function LoadDebug() {
            PayloadName = "Debug";
            PayloadPath = "payloads/Debug.bin";
            PLLA();
        }

        function LoadWebRTE() {
            PayloadName = "WebRTE";
            PayloadPath = "payloads/WebRTE.bin";
            PLLA();
        }

        function LoadLinux() {
            PayloadName = "Linux";
            PayloadPath = "payloads/Linux.bin";
            PLLA();
        }

        function LoadKernelDumper() {
            PayloadName = "Kernel Dumper";
            PayloadPath = "payloads/KernelDumper.bin";
            PLLA();
        }

        function LoadToDEX() {
            PayloadName = "ToDEX";
            PayloadPath = "payloads/ToDEX.bin";
            PLLA();
        }

        function LoadFWSpoofer() {//by Leeful (based on EnableVR for 5.05 by Stooged)
            PayloadName = "Firmware Spoofer";
            PayloadPath = "payloads/FWSpoofer.js";
            PayloadFunction = fw_spoofer;
            PLLB();
        }

        function LoadGUMDumper() {//by xVortex - 672 port and MOD by Leeful
            PayloadName = "Game + Update Merged Dumper";
            PayloadPath = "payloads/GUMDumper.bin";
            PLLA();
        }

        function LoadGUDumper() {//by xVortex - 672 port and MOD by Leeful
            PayloadName = "Game + Update Dumper";
            PayloadPath = "payloads/GUDumper.bin";
            PLLA();
        }

        function LoadGDumper() {//by xVortex - 672 port and MOD by Leeful
            PayloadName = "Game Dumper";
            PayloadPath = "payloads/GDumper.bin";
            PLLA();
        }

        function LoadUDumper() {//by xVortex - 672 port and MOD by Leeful
            PayloadName = "Update Dumper";
            PayloadPath = "payloads/UDumper.bin";
            PLLA();
        }

        function LoadDBBackup() {//by Stooged - 672 port and MOD by Leeful
            PayloadName = "Database Backup";
            PayloadPath = "payloads/DBBackup.bin";
            PLLA();
        }

        function LoadDBRestore() {//by Stooged - 672 port and MOD by Leeful
            PayloadName = "Database Restore";
            PayloadPath = "payloads/DBRestore.bin";
            PLLA();
        }

        function LoadAvatarBackup() {
            PayloadName = "Avatar Backup";
            PayloadPath = "payloads/AvatarBackup.bin";
            PLLA();
        }

        function LoadAvatarRestore() {
            PayloadName = "Avatar Restore";
            PayloadPath = "payloads/AvatarRestore.bin";
            PLLA();
        }

        function LoadUpdatesDisabler() {
            PayloadName = "Updates Disabler";
            PayloadPath = "payloads/UpdatesDisabler.bin";
            PLLA();
        }

        function LoadUpdatesEnabler() {
            PayloadName = "Updates Enabler";
            PayloadPath = "payloads/UpdatesEnabler.bin";
            PLLA();
        }

        function LoadHistoryBlocker() {
            PayloadName = "History Blocker";
            PayloadPath = "payloads/HistoryBlocker.bin";
            PLLA();
        }

        function LoadFanThreshold() {//by Leeful
            FT = SectionsSettingsFanTempSelector.value;

            PayloadName = "Fan Threshold";
            PayloadPath = "payloads/FanThreshold.bin";
            PayloadFunction = fan_threshold;
            PLLB();
        }
    </script>
    <script>
        // main

        function main() {
            LoadedWebkitExploit = false;
            LoadedJailbreakCommon = false;
            LoadedJailbreak = false;

            SectionsLocked = false;

            CacheInstalling = false;
            CacheInstalled = false;
            CacheLoaded = false;

            FanTempMax = 79;
            FanTempMin = 40;
            FanTempSelectorOptions = SectionsSettingsFanTempSelector.options;

            FWA = 9;
            FWB = 99;

            ApplyFanTempSelectorOptions();

            SectionsSettingsFanTempSelector.value = 79;

            SectionsLock();

            window.applicationCache.addEventListener("progress", CacheInstallingEvent, false);
            window.applicationCache.oncached = function (e) { setTimeout(CacheInstalledEvent, 500); };

            window.onload = function (e) { setTimeout(CacheLoadedEvent, 500); };
        }

        main();
    </script>
    <!--
        From the scripts below the ones that need editting are:
        jailbreak/common/helpers.js, jailbreak/common/malloc.js, jailbreak/common/rop.js, jailbreak/common/syscalls.js, jailbreak/common/syscalls2.js
        , jailbreak/c-code.js
        , loaders/BL.js (bin loader), loaders/JB.js (jailbreak), loaders/JC.js (jailbreak common), loaders/PL.js (payload), loaders/WE.js (webkit exploit)
        , mira/c-code.js, mira/mira.js
        , payloads/FanThreshold.js, payloads/FWSpoofer.js
        , webkit_exploit/webex.js (webkit exploit)
    -->

    <script src="webkit_exploit/webex.js"></script>
    <script src="jailbreak/common/helpers.js"></script>
    <script src="jailbreak/common/malloc.js"></script>
    <script src="jailbreak/common/rop.js"></script>
    <script src="jailbreak/common/syscalls.js"></script>
    <script src="jailbreak/common/syscalls2.js"></script>
    <script src="jailbreak/c-code.js"></script>
    <script src="mira/c-code.js"></script>
    <script src="mira/mira.js"></script>
    <script src="loaders/BL.js"></script>
    <script src="loaders/JB.js"></script>
    <script src="loaders/JC.js"></script>
    <script src="loaders/PL.js"></script>
    <script src="loaders/WE.js"></script>
    <script src="payloads/FanThreshold.js"></script>
    <script src="payloads/FWSpoofer.js"></script>
</body>
</html>
